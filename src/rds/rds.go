package rds

var chars = map[rune]byte{
	' ':  0x20,
	'!':  0x21,
	'"':  0x22,
	'#':  0x23,
	'Â¤':  0x24,
	'%':  0x25,
	'&':  0x26,
	'\'': 0x27,
	'(':  0x28,
	')':  0x29,
	'*':  0x2a,
	'+':  0x2b,
	',':  0x2c,
	'-':  0x2d,
	'.':  0x2e,
	'/':  0x2f,
	'0':  0x30,
	'1':  0x31,
	'2':  0x32,
	'3':  0x33,
	'4':  0x34,
	'5':  0x35,
	'6':  0x36,
	'7':  0x37,
	'8':  0x38,
	'9':  0x39,
	':':  0x3a,
	';':  0x3b,
	'<':  0x3c,
	'=':  0x3d,
	'>':  0x3e,
	'?':  0x3f,
	'@':  0x40,
	'A':  0x41,
	'B':  0x42,
	'C':  0x43,
	'D':  0x44,
	'E':  0x45,
	'F':  0x46,
	'G':  0x47,
	'H':  0x48,
	'I':  0x49,
	'J':  0x4a,
	'K':  0x4b,
	'L':  0x4c,
	'M':  0x4d,
	'N':  0x4e,
	'O':  0x4f,
	'P':  0x50,
	'Q':  0x51,
	'R':  0x52,
	'S':  0x53,
	'T':  0x54,
	'U':  0x55,
	'V':  0x56,
	'W':  0x57,
	'X':  0x58,
	'Y':  0x59,
	'Z':  0x5a,
	'[':  0x5b,
	'\\': 0x5c,
	']':  0x5d,
	'^':  0x5e,
	'_':  0x5f,
	'`':  0x60,
	'a':  0x61,
	'b':  0x62,
	'c':  0x63,
	'd':  0x64,
	'e':  0x65,
	'f':  0x66,
	'g':  0x67,
	'h':  0x68,
	'i':  0x69,
	'j':  0x6a,
	'k':  0x6b,
	'l':  0x6c,
	'm':  0x6d,
	'n':  0x6e,
	'o':  0x6f,
	'p':  0x70,
	'q':  0x71,
	'r':  0x72,
	's':  0x73,
	't':  0x74,
	'u':  0x75,
	'v':  0x76,
	'w':  0x77,
	'x':  0x78,
	'y':  0x79,
	'z':  0x7a,
	'{':  0x7b,
	'|':  0x7c,
	'}':  0x7d,
	'~':  0x7e,
	'':  0x7f,
	'Ã¡':  0x80,
	'Ã ':  0x81,
	'Ã©':  0x82,
	'Ã¨':  0x83,
	'Ã­':  0x84,
	'Ã¬':  0x85,
	'Ã³':  0x86,
	'Ã²':  0x87,
	'Ãº':  0x88,
	'Ã¹':  0x89,
	'Ã‘':  0x8a,
	'Ã‡':  0x8b,
	'Å':  0x8c,
	'ÃŸ':  0x8d,
	'Â¡':  0x8e,
	'Ä²':  0x8f,
	'Ã¢':  0x90,
	'Ã¤':  0x91,
	'Ãª':  0x92,
	'Ã«':  0x93,
	'Ã®':  0x94,
	'Ã¯':  0x95,
	'Ã´':  0x96,
	'Ã¶':  0x97,
	'Ã»':  0x98,
	'Ã¼':  0x99,
	'Ã±':  0x9a,
	'Ã§':  0x9b,
	'ÅŸ':  0x9c,
	'ÄŸ':  0x9d,
	'ğŸ':  0x9e,
	'Ä³':  0x9f,
	'Âª':  0xa0,
	'É‘':  0xa1,
	'Â©':  0xa2,
	'â€°':  0xa3,
	'Ä':  0xa4,
	'Ä›':  0xa5,
	'Åˆ':  0xa6,
	'Å‘':  0xa7,
	'Ï€':  0xa8,
	'â‚¬':  0xa9,
	'Â£':  0xaa,
	'$':  0xab,
	'â†':  0xac,
	'â†‘':  0xad,
	'â†’':  0xae,
	'â†“':  0xaf,
	'Âº':  0xb0,
	'Â¹':  0xb1,
	'Â²':  0xb2,
	'Â³':  0xb3,
	'Â±':  0xb4,
	'Ä°':  0xb5,
	'Å„':  0xb6,
	'Å±':  0xb7,
	'Å³':  0xb8,
	'Â¿':  0xb9,
	'Ã·':  0xba,
	'Â°':  0xbb,
	'Â¼':  0xbc,
	'Â½':  0xbd,
	'Â¾':  0xbe,
	'Â§':  0xbf,
	'Ã':  0xc0,
	'Ã€':  0xc1,
	'Ã‰':  0xc2,
	'Ãˆ':  0xc3,
	'Ã':  0xc4,
	'ÃŒ':  0xc5,
	'Ã“':  0xc6,
	'Ã’':  0xc7,
	'Ãš':  0xc8,
	'Ã™':  0xc9,
	'Å˜':  0xca,
	'ÄŒ':  0xcb,
	'Å ':  0xcc,
	'Å½':  0xcd,
	'Ä':  0xce,
	'Ä¿':  0xcf,
	'Ã‚':  0xd0,
	'Ã„':  0xd1,
	'ÃŠ':  0xd2,
	'Ã‹':  0xd3,
	'Ã':  0xd4,
	'Ã':  0xd5,
	'Ã”':  0xd6,
	'Ã–':  0xd7,
	'Ã›':  0xd8,
	'Ãœ':  0xd9,
	'Å™':  0xda,
	'Ä':  0xdb,
	'Å¡':  0xdc,
	'Å¾':  0xdd,
	'Ä‘':  0xde,
	'Å€':  0xdf,
	'Ãƒ':  0xe0,
	'Ã…':  0xe1,
	'Ã†':  0xe2,
	'Å’':  0xe3,
	'Å·':  0xe4,
	'Ã':  0xe5,
	'Ã•':  0xe6,
	'Ã˜':  0xe7,
	'Ã':  0xe8,
	'ÅŠ':  0xe9,
	'Å”':  0xea,
	'Ä†':  0xeb,
	'Åš':  0xec,
	'Å¹':  0xed,
	'Å¦':  0xee,
	'Ã°':  0xef,
	'Ã£':  0xf0,
	'Ã¥':  0xf1,
	'Ã¦':  0xf2,
	'Å“':  0xf3,
	'Åµ':  0xf4,
	'Ã½':  0xf5,
	'Ãµ':  0xf6,
	'Ã¸':  0xf7,
	'Ã¾':  0xf8,
	'Å‹':  0xf9,
	'Å•':  0xfa,
	'Ä‡':  0xfb,
	'Å›':  0xfc,
	'Åº':  0xfd,
	'Å§':  0xfe,
}
var reversedChars map[byte]rune

func init() {
	reversedChars = make(map[byte]rune, len(chars))
	for i, v := range chars {
		reversedChars[v] = i
	}
}

func Encode(str string) []byte {
	res := make([]byte, len(str))
	i := 0
	for _, r := range str {
		if _, ok := chars[r]; !ok {
			continue
		}
		res[i] = chars[r]
		i++
	}
	return res[:i]
}

func Decode(bytes []byte) string {
	res := make([]rune, len(bytes))
	i := 0
	for _, b := range bytes {
		if _, ok := reversedChars[b]; !ok {
			continue
		}
		res[i] = reversedChars[b]
		i++
	}
	return string(res[:i])
}
